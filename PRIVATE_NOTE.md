後々書く必要がありそうなことをまとめておきます．

プライベートっぽい名前にしておくと読みたくなる人がいるかなと思ってそうしました．特に意味はありません．


# `js/user.js` でやること
やることのフロー．点は独立．数字は従属のつもり．

## 問題のリストアップ
- [x] 済

1. 必要なものを集める
  - 提出を集める（AtCoder Problems の API を叩く）
  - 問題を集める
    1. フィルタ次第では atcoder.jp を見て開催前コンテストを確認する
    2. `tasks.json` をぐっと睨んでフィルタを掛ける
    3. 点数のテーブルをつくる（その後テーブルの形は変更しない）
2. 問題たちを追加しつつ加点する
  - その際順番が入れ替わらないように注意
3. `tablesorter()` をする

点数のテーブルを作る際，たぶん `mask_\d+` みたいなクラスを作るのではなくて， `point_(gray|brown|.+)` みたいな得点用のクラスを定義しておいて，点数の範囲に応じて `addClass()` するようにすると，100 点刻みでない問題を対処できるようになります．390 点問題が一つだけあるテーブルはアレなのでアレですが，それはまぁフィルタでよしなにしましょうか．585 はいけないですね（汎用的下の句）．

問題を追加する際，`setImmediate()` 的なのをしなくてもいいんですけど，（私の仮想環境のような）動作の重いブラウザだと待ち時間が長いのでこうしてみました．帰省中でその環境でないのであれなんですが，これでも重いようだったら後々別の実装にするかもしれません．←少々重いけどいい感じです．mutex 的なのをそのうち考えることになるかもです（しんてほょテーブル）

テーブルはすまひょみたいな横に短い端末や，画面半分で見るとき用にスクローラブルにしました．誰も言ってくれないので私にしか需要がなかったのかもしれません．


## 装飾
- [x] 済

1. ユーザ名に色をつけたり王冠をつけたりする
  - 任意色コーダーはその色にしましょう
  - その際 atcoder.jp にアクセスするので，大文字小文字を校正しましょうか

実際これだけですか？ これだけな気がしますね．
もちろん `jumpProcess()` みたいな部分もやる必要があります．


# リンクについて
- [x] 済

この際全部（問題ではなくて，トップページへのリンクやユーザ名）も beta にとばしちゃいますか？


# ライバルについて
- [x] 済．おひねりは未．
複数できたら嬉しいとかありますかね．頭をひねればできそうですが，できればひねりたくないです．おひねりをいただきたいですね．


# 絞り込みについて
絞り込み関連のフラグ名は `show` とか `hide` とかみたいに，`true` のときの挙動を書くようにしましょうね．`filter` だけでは通したいのか防ぎたいのかわかりません．`flag` なんて論外ですよ．未来のえびちゃんへ．

## writer
- [x] OR 区切りのやつ
- [x] 混在のやつ

縦棒区切りで OR？ AND はそこまで嬉しくなさそうなのでしないつもりです．case-insensitive に判定しましょうね．`DEGwer` と `degwer` がリストに混在しているの，よくない気がするのでなんとかしようと思ったらなんとかします．

正規表現でえいえいしてもいいんですけど，ReDoS が怖いので避けたいです．


## 点数
「XXX から YYY」を「XXX 以上 YYY」に書き換えようかと思ったんですが，逆でも対応するやさしい世界なのでやめました（直そうとしちゃう人へ．えびより）．

### 部分点
- [x] 済

`lb <= partial <= ub` の問題もリストに含める．
「A+B」は「A 点分のデータセットと B 点分のデータセットがそれぞれ別」という状況で，点数が A，B，A+B の状況がそれぞれあり得る場合．

「A, B」は「A 点分のデータセットは B 点分のデータセットに含まれる」という状況で，点数が A，B の状況はあり得るが，B-A や B+A という状況は存在しない場合．「B(A)」のような気持ちだと思います．

...と解釈していますが，以下のような状況だとどう書くか苦しくなります．←双子コンでは `[]` を使って対処しました．
満点 800 点：N <= 1000, M <= 1000

100 点：N <= 30, M <= 100
別の 100 点：N <= 100, M <= 30

400 点： N <= 100, M <= 100
+100 点： N <= 1000, M <= 100
+200 点： N <= 100, M <= 1000

100+100, 400, 500, ...？ まぁこんな状況は存在しないかなぁ．

さておき，お行儀のよいものだけを考えると，`.split(/, |\+/)` をして各々の点数どれかが条件を満たしていればリストに入れ，そうでなければ入れません．→`.match(/\d+/g)` をしました．

つまり，たとえば 100+100+200 の問題は 400 には含めないということです．


## コンテスト
- [x] 企業コンのやつ
- [x] ？マークくん

企業コンの分類をもう少し細分化するべきなのかもしれませんが，どうしましょう．
というか企業コンでオープン（Parallel）だったりそうじゃなかったり，なんか問題が公開されていなかったり...みたいなのがあった気がしますが最近は大丈夫なんですかね（台上部ってなんですか？ 誤字ですね）．

あと絞り込みの V 字のやつ（collapse の状態を示す）とか，マウスオーバーでヘルプを出す？マークくんとかってどうしたらいいんですかね．現状すまひょからだと collapse が効かないんですけど．
↑本家のをぐ〜〜っと睨んだらわかった．


# リストアップ漏れについて
- [x] あつめるやつ

えびちゃんへ

ちゃんと集めてください

つたじろうより

えびより（SyntaxError）


双子コンみたいなやつとか漏らしがちなんですよね．XUPC みたいな非公式のも点数に重みがついているものは加えたいですよね．非公式コンテストみたいなフィルタはつけると思いますが．
非公式ので得点の感じが本家っぽかったのが思ったよりなかった気がしたので，そこまで分けてません．


# 得点テーブルについて
部分点は 0 点としていいですか？ 下手に 100 点の枠に入れたりすると全体の得点をオーバーしたりとかがありそうでアレなんですよね．収集もめんどくさいので，厳しい世界にしましょうね．できなくはないはずですけど，あ，いや，できないですね．
具体的には 500+500 みたいなときに 500 点の提出が二つあると別のケースなのか同じケースに二回通ったのかが判断付かないです．

無理と気付いたことを気付いた時点で（理由ごと）書き留めておくのはたぶん重要ですね．未来のえびちゃんの助けになりそうです．


# Twitter 連携について
- [ ] まだ（というかやる気なし）

得点テーブルの画像をツイートできたら嬉しいみたいな気持ちはありませんか？ 正直労力対効果が低い気がするので後回しにしていますが．

あと横長すぎてアレになりそうな気もしますね．絞り込みのチェックボックスごと画像に入れていい感じのアス比にするみたいなことをしましょうか．


# おわり

あとなにか気になることはありますか？ 今のところはこのくらいです．
n7 が出ると a57577 にしたくなりますよね．

あ，宣伝をちゃんとして知名度を上げ~て承認欲求を満たし~たいですね．宣伝が面倒なくせに知ってもらいたいみたいなわがままはいけないので．

やりたいことのキューが空になったのでしばらくは定期更新だけをします．
